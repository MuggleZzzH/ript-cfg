项目目录结构（关键路径）

- scripts/openpi/try/fast_smoke.sh
  - 快速本地评估/训练入口，仅通过 Hydra 覆盖参数。
  - 可控制：algo.max_episode_length、algo.env_runner.num_steps_wait、并行环境数、视频开关等。

- train_ript_pi0.py
  - 训练/评估主入口。
  - 不再强制覆盖 eval runner 的 max_episode_length，尊重配置/CLI。

- config/algo/pi0_cfg_rl.yaml
  - PI0 + CFG-Flow 主配置。
  - env_runner:
    - max_episode_length：默认 300；可被 CLI 覆盖。
    - num_steps_wait：默认 10；可被 CLI 覆盖。

- ript/env_runner/pi0_libero_runner.py
  - 真实环境评估与 rollouts 逻辑。
  - 支持 WAIT_STEPS、视频帧抓取源切换（PI0_RENDER_SOURCE）、多键名观测兼容。

- ript/algos/policies/pi0_oft_policy.py
  - PI0Policy 封装；从本地加载 tokenizer/model，支持 (B,H,W,C)->(B,C,H,W)。

- LIBERO/**
  - 环境、基准、评测模块；若使用 init_states，已兼容 torch.load(weights_only=False)。

- output/**
  - 训练与评估结果、视频输出路径（PI0_VIDEO_DIR 可配置）。

常用控制入口
- Episode 长度：algo.max_episode_length（fast_smoke.sh 传入 MAX_EP_LEN）。
- 等待步数：algo.env_runner.num_steps_wait（fast_smoke.sh 传入 WAIT_STEPS）。
- 评估视频：PI0_N_VIDEO、PI0_VIDEO_DIR、PI0_RENDER_SOURCE。
- 本地模型：algo.policy.pretrained_path；norm_stats_path。
